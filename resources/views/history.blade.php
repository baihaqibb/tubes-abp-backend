<x-layout>
@push('styles')
        <link rel="stylesheet" href="{{ asset('css/history.css') }}">
@endpush 

@if (Auth::check())
    @if ($recipes->isEmpty())
    <div class="container">
        <div class="content">
            <div class="title">
                <div class="history-icon">
                <svg width="33" height="33" viewBox="0 0 35 35" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M17.5 0C14.0388 0 10.6554 1.02636 7.77753 2.94928C4.89967 4.87221 2.65665 7.60533 1.33212 10.803C0.0075824 14.0007 -0.338976 17.5194 0.336265 20.9141C1.01151 24.3087 2.67822 27.4269 5.12564 29.8744C7.57306 32.3218 10.6913 33.9885 14.0859 34.6637C17.4806 35.339 20.9993 34.9924 24.197 33.6679C27.3947 32.3433 30.1278 30.1003 32.0507 27.2225C33.9736 24.3446 35 20.9612 35 17.5C35 15.2019 34.5473 12.9262 33.6679 10.803C32.7884 8.67984 31.4994 6.75065 29.8744 5.12563C28.2493 3.50061 26.3202 2.21156 24.197 1.33211C22.0738 0.452651 19.7981 0 17.5 0ZM24.5 19.25H17.5C17.0359 19.25 16.5908 19.0656 16.2626 18.7374C15.9344 18.4092 15.75 17.9641 15.75 17.5V10.5C15.75 10.0359 15.9344 9.59075 16.2626 9.26256C16.5908 8.93437 17.0359 8.75 17.5 8.75C17.9641 8.75 18.4093 8.93437 18.7374 9.26256C19.0656 9.59075 19.25 10.0359 19.25 10.5V15.75H24.5C24.9641 15.75 25.4093 15.9344 25.7374 16.2626C26.0656 16.5907 26.25 17.0359 26.25 17.5C26.25 17.9641 26.0656 18.4092 25.7374 18.7374C25.4093 19.0656 24.9641 19.25 24.5 19.25Z" fill="#E35778"/>
                </svg>
                </div>
                <h1 class="title-text">History</h1>
            </div>
            <div class="message">
            <h2 class="message-text" style="font-size: 16px; font-weight: bold; color: #333;">
                    Halaman masih kosong
                </h2>
            </div>
        </div>
    </div>
    @else 
    <div class="title">
        <div class="history-icon">
        <svg width="33" height="33" viewBox="0 0 35 35" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M17.5 0C14.0388 0 10.6554 1.02636 7.77753 2.94928C4.89967 4.87221 2.65665 7.60533 1.33212 10.803C0.0075824 14.0007 -0.338976 17.5194 0.336265 20.9141C1.01151 24.3087 2.67822 27.4269 5.12564 29.8744C7.57306 32.3218 10.6913 33.9885 14.0859 34.6637C17.4806 35.339 20.9993 34.9924 24.197 33.6679C27.3947 32.3433 30.1278 30.1003 32.0507 27.2225C33.9736 24.3446 35 20.9612 35 17.5C35 15.2019 34.5473 12.9262 33.6679 10.803C32.7884 8.67984 31.4994 6.75065 29.8744 5.12563C28.2493 3.50061 26.3202 2.21156 24.197 1.33211C22.0738 0.452651 19.7981 0 17.5 0ZM24.5 19.25H17.5C17.0359 19.25 16.5908 19.0656 16.2626 18.7374C15.9344 18.4092 15.75 17.9641 15.75 17.5V10.5C15.75 10.0359 15.9344 9.59075 16.2626 9.26256C16.5908 8.93437 17.0359 8.75 17.5 8.75C17.9641 8.75 18.4093 8.93437 18.7374 9.26256C19.0656 9.59075 19.25 10.0359 19.25 10.5V15.75H24.5C24.9641 15.75 25.4093 15.9344 25.7374 16.2626C26.0656 16.5907 26.25 17.0359 26.25 17.5C26.25 17.9641 26.0656 18.4092 25.7374 18.7374C25.4093 19.0656 24.9641 19.25 24.5 19.25Z" fill="#E35778"/>
        </svg>
        </div>
        <h1 class="title-text">History</h1>
    </div>
    <div class="recipes">
        @foreach ($recipes as $recipe)
        <a href="{{ route('show', $recipe->id) }}" class="recipe-card-link">
            <div class="recipe-card">
                <div class="image-wrapper">                        
                    <img src="{{ asset($recipe->image_url) }}" alt="Recipe Image">
                </div>                          
                <div class="recipe-info">
                    <div class="tags">
                        <span class="porsi">
                            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M17.25 7.9684H0.75C0.658832 7.9684 0.571398 8.00462 0.506932 8.06908C0.442466 8.13355 0.40625 8.22098 0.40625 8.31215C0.409121 9.91948 0.861271 11.494 1.71165 12.8579C2.56203 14.2219 3.77678 15.321 5.21875 16.0311V16.5622C5.21875 16.8357 5.3274 17.098 5.5208 17.2914C5.71419 17.4848 5.9765 17.5934 6.25 17.5934H11.75C12.0235 17.5934 12.2858 17.4848 12.4792 17.2914C12.6726 17.098 12.7812 16.8357 12.7812 16.5622V16.0311C14.2232 15.321 15.438 14.2219 16.2883 12.8579C17.1387 11.494 17.5909 9.91948 17.5938 8.31215C17.5938 8.22098 17.5575 8.13355 17.4931 8.06908C17.4286 8.00462 17.3412 7.9684 17.25 7.9684ZM12.294 15.5017C12.2342 15.5292 12.1835 15.5733 12.148 15.6287C12.1125 15.6842 12.0937 15.7487 12.0938 15.8145V16.5622C12.0938 16.6533 12.0575 16.7408 11.9931 16.8052C11.9286 16.8697 11.8412 16.9059 11.75 16.9059H6.25C6.15883 16.9059 6.0714 16.8697 6.00693 16.8052C5.94247 16.7408 5.90625 16.6533 5.90625 16.5622V15.8145C5.90634 15.7487 5.88751 15.6842 5.85202 
                                15.6287C5.81652 15.5733 5.76584 15.5292 5.70602 15.5017C4.38448 14.8927 3.25591 13.9319 2.4438 12.7245C1.63168 11.5171 1.16731 10.1095 1.10148 8.6559H16.8985C16.8327 10.1095 16.3683 11.5171 15.5562 12.7245C14.7441 13.9319 13.6155 14.8927 12.294 15.5017ZM12.1694 2.94106C12.6472 2.34637 12.8569 1.83332 12.7563 1.49645C12.6704 1.19223 12.3352 1.07793 12.3318 1.07707C12.2448 1.04949 12.1724 0.988504 12.1304 0.907519C12.0884 0.826534 12.0804 0.732188 12.1079 0.645236C12.1355 0.558285 12.1965 0.48585 12.2775 0.443866C12.3585 0.401883 12.4528 0.393791 12.5398 0.421369C12.5673 0.429963 13.2135 0.637932 13.4129 1.2902C13.5891 1.8677 13.351 2.56809 12.7056 3.3716C12.2278 3.96543 12.0181 4.47848 12.1187 4.81535C12.2046 5.11957 12.5398 5.23387 12.5432 5.23473C12.6214 5.25972 12.688 5.31186 12.7311 5.38172C12.7742 5.45158 12.7909 5.53455 12.7781 5.61563C12.7653 5.69671 12.724 5.77054 12.6615 5.82378C12.599 5.87701 12.5196 5.90614 12.4375 5.9059C12.4028 5.9058 12.3684 5.90059 
                                12.3352 5.89043C12.3077 5.88184 11.6615 5.67387 11.4621 5.0216C11.2859 4.44496 11.524 3.74371 12.1694 2.94106ZM8.73187 2.94106C9.20969 2.34637 9.41938 1.83332 9.31883 1.49645C9.23289 1.19223 8.89773 1.07793 8.8943 1.07707C8.80734 1.04949 8.73491 0.988504 8.69293 0.907519C8.65094 0.826534 8.64285 0.732188 8.67043 0.645236C8.69801 0.558285 8.759 0.48585 8.83998 0.443866C8.92097 0.401883 9.01531 0.393791 9.10227 0.421369C9.12977 0.429963 9.77602 0.637932 9.97539 1.2902C10.1516 1.8677 9.91352 2.56809 9.26812 3.3716C8.79031 3.96543 8.58063 4.47848 8.68117 4.81535C8.76711 5.11957 9.10227 5.23387 9.1057 5.23473C9.18388 5.25972 9.25054 5.31186 9.29361 5.38172C9.33669 5.45158 9.35336 5.53455 9.34059 5.61563C9.32782 5.69671 9.28646 5.77054 9.224 5.82378C9.16153 5.87701 9.08208 5.90614 9 5.9059C8.96534 5.9058 8.93088 5.90059 8.89773 5.89043C8.87023 5.88184 8.22398 5.67387 8.02461 
                                5.0216C7.84844 4.44496 8.08648 3.74371 8.73187 2.94106ZM5.29437 2.94106C5.77219 2.34637 5.98187 1.83332 5.88133 1.49645C5.79539 1.19223 5.46023 1.07793 5.4568 1.07707C5.41374 1.06342 5.3738 1.04141 5.33925 1.01232C5.3047 0.983231 5.27622 0.947618 5.25543 0.907519C5.23464 0.867419 5.22195 0.823618 5.21809 0.778615C5.21423 0.733613 5.21927 0.68829 5.23293 0.645236C5.24659 0.602182 5.26859 0.562239 5.29768 0.527688C5.32677 0.493137 5.36238 0.464654 5.40248 0.443866C5.44258 0.423078 5.48638 0.410392 5.53139 0.406532C5.57639 0.402672 5.62171 0.407714 5.66477 0.421369C5.69227 0.429963 6.33852 0.637932 6.53789 1.2902C6.71406 1.8677 6.47602 2.56809 5.83063 3.3716C5.35281 3.96543 5.14313 4.47848 5.24367 4.81535C5.32961 5.11957 5.66477 5.23387 5.6682 5.23473C5.74638 5.25972 5.81303 5.31186 5.85611 5.38172C5.89919 5.45158 5.91586 5.53455 5.90309 5.61563C5.89032 5.69671 5.84896 5.77054 5.7865 5.82378C5.72403 5.87701 5.64458 
                                5.90614 5.5625 5.9059C5.52784 5.9058 5.49338 5.90059 5.46023 5.89043C5.43273 5.88184 4.78648 5.67387 4.58711 5.0216C4.41094 4.44496 4.64898 3.74371 5.29437 2.94106Z" fill="#F6664E"/>
                                </svg>                                                            
                            {{ $recipe->porsi }}
                        </span>
                        <span class="waktu">
                            <svg width="20" height="20" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M11 18.7913C15.3033 18.7913 18.7917 15.3029 18.7917 10.9997C18.7917 6.69646 15.3033 3.20801 11 3.20801C6.69682 3.20801 3.20837 6.69646 3.20837 10.9997C3.20837 15.3029 6.69682 18.7913 11 18.7913Z" stroke="black"/>
                                <path d="M15.125 10.9993H11.2292C11.1684 10.9993 11.1101 10.9752 11.0671 10.9322C11.0241 10.8893 11 10.831 11 10.7702V7.79102" stroke="black" stroke-linecap="round"/>
                                </svg>                                                       
                            {{ $recipe->waktu }} minutes
                        </span>
                    </div>
                    <h5>{{ $recipe->judul}}</h5>
                    <p>{{ $recipe->deskripsi }}</p>
                    <p>Recipe by {{ $recipe->user->username }}</p>
                </div>
            </div>
        </a>
        @endforeach
        </div>
    @endif

@else 
<div class="containerhistory">
        <div class="content">
            <div class="titlehistory">
                <div class="history-icon">
                <svg width="33" height="33" viewBox="0 0 35 35" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M17.5 0C14.0388 0 10.6554 1.02636 7.77753 2.94928C4.89967 4.87221 2.65665 7.60533 1.33212 10.803C0.0075824 14.0007 -0.338976 17.5194 0.336265 20.9141C1.01151 24.3087 2.67822 27.4269 5.12564 29.8744C7.57306 32.3218 10.6913 33.9885 14.0859 34.6637C17.4806 35.339 20.9993 34.9924 24.197 33.6679C27.3947 32.3433 30.1278 30.1003 32.0507 27.2225C33.9736 24.3446 35 20.9612 35 17.5C35 15.2019 34.5473 12.9262 33.6679 10.803C32.7884 8.67984 31.4994 6.75065 29.8744 5.12563C28.2493 3.50061 26.3202 2.21156 24.197 1.33211C22.0738 0.452651 19.7981 0 17.5 0ZM24.5 19.25H17.5C17.0359 19.25 16.5908 19.0656 16.2626 18.7374C15.9344 18.4092 15.75 17.9641 15.75 17.5V10.5C15.75 10.0359 15.9344 9.59075 16.2626 9.26256C16.5908 8.93437 17.0359 8.75 17.5 8.75C17.9641 8.75 18.4093 8.93437 18.7374 9.26256C19.0656 9.59075 19.25 10.0359 19.25 10.5V15.75H24.5C24.9641 15.75 25.4093 15.9344 25.7374 16.2626C26.0656 16.5907 26.25 17.0359 26.25 17.5C26.25 17.9641 26.0656 18.4092 25.7374 18.7374C25.4093 19.0656 24.9641 19.25 24.5 19.25Z" fill="#E35778"/>
                </svg>
                </div>
                <h1 class="title-text">History</h1>
            </div>
            <div class="messagehistory">
                <h2 class="message-text" style="font-size: 16px; font-weight: bold; color: #333;">
                    Anda harus masuk terlebih dahulu
                </h2>
                <p class="message-subtext" style="font-size: 16px; color: #333;">
                    Masuk untuk melihat riwayat menu yang dilihat.
                </p>
            </div>
            <button class="btnhistory" data-bs-toggle="modal" data-bs-target="#loginModal">
                <svg width="30" height="20" viewBox="0 0 48 39" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                    <rect x="0.77002" y="0.243164" width="46.9265" height="38.6937" fill="url(#pattern0_628_2250)"/>
                    <defs>
                    <pattern id="pattern0_628_2250" patternContentUnits="objectBoundingBox" width="1" height="1">
                    <use xlink:href="#image0_628_2250" transform="matrix(0.00916176 0 0 0.0111111 0.0877207 0)"/>
                    </pattern>
                    <image id="image0_628_2250" width="90" height="90" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD2ElEQVR4nO2cS4tcRRSAS0fFZKGgRgXxEaJbcSGiqCCiQRcufSS6EFQCycK/kKUoGMUHEnTl4w8I2biS+CLGB5qY0JnuU7dxCBg1ESE6fY5+Ut6BGTHG9EzfW3dunQ/OpruhOR+ni+pT51YIjuM4juM4juM4zvTA+EYj7lLie0b8UpGflDipQ36sX0vvyU6otqziK8oFuMCIjxvxEyMyXcjHhmwH5nLn0WkUeUCRwfSC/xlKPKqMtubOp3PAwkZF3lyr4H8Ll70w3pA7v04A81ca8sWsJa9YTj6HwaZQumQlHm1O8vJSUqxsWNjYbCWfqbLl4lAa2sCafA6V/UYoCWW0tW3Jy7LlwVDKPllnsIVbQ1UfKWKfbcQncklesV4/FvqOET/tgOiPQgG9C3KHIn9C3Bz6ihF35Za8HKMdoa9o3YWjI1X9TugrRvwqt+DlkIOhr2jdQ+6A5L+3eT+EvqLExQ6J/j30FeuA4JUR+op1QK6LxkXPDPU1uh3Udx3tYL6Pbgclvtud7Z28HfqKITtzCy6i1wHVltQ560b3Tm4IfcZWNYE065D9oe8Ysj2/6OqR0HeAuTZmOc6ybBwu4swwoVT35xMd7w0locjeDJJfD6UB4w1peqhF0Z8VOamUSPNwLc3eHYGFK0LJwGCTIQeareRCBxzPtIykubgm1uRil4uzoVT3pZ/52gXL4eJ2F9MCzBmyLU0TTfN3vf6s7DdGjwLn585jXQFxc2r+pBmMNEud+tnp8KAOOZFGBur3Rjt637twHMdxHMdxHMcpBhheOkHuMOIzirxkxH2pA1ffWBCPK/G3pTi+1BdJDx/tU+IeIz49QW6HwSW58+gcIFenA1slvqXIcHadO5mvn86VbTC8KpTIInKLIs8bcqjppv+KhtM3ijy3yPDm0GdgeJ1RPZuu52lD7v+3UWU3zN8U+sKE6i5D3u/ChNJ/VPoHSvUQcF5Yb8Chi4z4lCHf5pZp5x5fG/IkHLwwrAdSdShyrAPiWGWVD4zq4c5W+IThbelUJLcom118OKG6NXTsWojdilgH5DDj6v5DkZezLyfp+Ki+ay6/FGs05EC6MCCLZEXuUeKp/BJiS9UdT06o7m5VcvrC9Dc4d/LWumw5PSHe2Ypk+P7y+gQ6f+KWR/YJGF/WuGglvpg7Wcsv+4UWROe7eMo6Ekr8rg3Rp3MnatlFy68tiI4xd6KWX/R8C6LlldyJWnbRcU/jomF8jSI/Fyz5FBy7NrT1sI8SfylQ8snWx4HTpKcSX0u7EEW0v3JFl3J8FUbXtyrZcRzHcRzHcRzHcRwndJO/AJEQlrpXBjiOAAAAAElFTkSuQmCC"/>
                    </defs>
                </svg>
                Masuk/Daftar
            </button>
        </div>
    </div>
@endif


</x-layout>